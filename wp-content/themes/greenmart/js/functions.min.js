"use strict";class StickyHeader{constructor(){if("undefined"!=typeof greenmart_settings){let a=this;if(greenmart_settings.skin_elementor){this.$tbayHeader=$(".tbay_header-template"),this.$tbayHeaderMain=$(".tbay_header-template .header-main"),this.$tbayHeader.hasClass("main-sticky-header")&&0<this.$tbayHeaderMain.length&&a._initStickyHeader();let b=$(".element-sticky-header");0<b.length&&a._initELementStickyheader(b)}else a._initStickyHeaderWPBakery()}}_initStickyHeaderWPBakery(){var a=jQuery("#tbay-header");if(a.hasClass("main-sticky-header")){var b=jQuery(window).width(),c=a.height();jQuery("#tbay-header.sticky-header1").height(),"restaurant"==greenmart_settings.active_theme&&(c=0),$(window).scroll(function(){if(1024<=b){var d=jQuery(this).scrollTop();if(d>c){if(a.hasClass("sticky-header1"))return;a.addClass("sticky-header1"),a.parent().css("margin-top",c),a.addClass("sticky-header1").css("top",jQuery("#wpadminbar").outerHeight())}else a.removeClass("sticky-header1"),a.parent().css("margin-top",0)}})}}_initStickyHeader(){var a=this,b=$(window).width(),c=a.$tbayHeader.outerHeight(),d=a.$tbayHeaderMain.outerHeight(),e=0<$("#wpadminbar").length?$("#wpadminbar").outerHeight():0,f=a.$tbayHeaderMain.offset().top;if(1024<=b)if(0==f||f==e){if(a.$tbayHeader.hasClass("sticky-header"))return;a._stickyHeaderOnDesktop(d,f,e),a.$tbayHeaderMain.addClass("sticky-1"),$(window).scroll(function(){$(this).scrollTop()>c?a.$tbayHeaderMain.addClass("sticky-box"):a.$tbayHeaderMain.removeClass("sticky-box")})}else $(window).scroll(function(){if(a.$tbayHeader.hasClass("main-sticky-header"))if($(this).scrollTop()>f-e){if(a.$tbayHeader.hasClass("sticky-header"))return;a._stickyHeaderOnDesktop(d,f,e)}else a.$tbayHeaderMain.css("top",0).css("position","relative").removeClass("sticky-header").parent().css("padding-top",0),a.$tbayHeaderMain.prev().css("margin-bottom",0)})}_stickyHeaderOnDesktop(a,b,c){this.$tbayHeaderMain.addClass("sticky-header").css("top",c).css("position","fixed"),0==b||b==c?this.$tbayHeaderMain.parent().css("padding-top",a):this.$tbayHeaderMain.prev().css("margin-bottom",a)}_initELementStickyheader(a){var b=a.first();let c=this;var d=!1,e=0,f=0;if(0!==b.parents(".tbay_header-template").length){var g=0<$("#wpadminbar").length?$("#wpadminbar").outerHeight():0,h=b.offset().top-$(window).scrollTop()-g,i=h;b.prevAll().each(function(){f+=$(this).outerHeight()}),a.each(function(){0<$(this).parents(".element-sticky-header").length||(e+=$(this).outerHeight())}),c._initELementStickyheaderContent(h,i,e,f,a,b,g,d),$(window).scroll(function(){d=!0,0===$(window).scrollTop()&&(i=0),c._initELementStickyheaderContent(h,i,e,f,a,b,g,d)})}}_initELementStickyheaderContent(a,b,c,d,e,f,g,h){let i=0<f.prev().length?d:1;if($(window).scrollTop()>=i?f.parent().addClass("has-header-sticky"):f.parent().removeClass("has-header-sticky"),$(window).scrollTop()<d&&h||0===$(window).scrollTop()&&h){if(f.parent().children().first().hasClass("element-sticky-header"))return;f.css("top",""),b===a||0===b?e.last().next().css("padding-top",""):f.prev().css("margin-bottom",""),f.parent().css("padding-top",""),e.last().removeClass("last-sticky"),e.each(function(){$(this).removeClass("sticky"),0<$(this).prev(".element-sticky-header").length&&$(this).css("top","")})}else{if($(window).scrollTop()<d&&!h)return;e.last().addClass("last-sticky"),e.each(function(){if(!(0<$(this).parents(".element-sticky-header").length)&&($(this).addClass("sticky"),0<$(this).prevAll(".element-sticky-header").length)){let a=0;$(this).prevAll(".element-sticky-header").each(function(){a+=$(this).outerHeight()}),$(this).css("top",a+g)}}),f.css("top",g),b===a||0===b?(f.addClass("sticky"),f.parent().css("padding-top",c)):f.prev().css("margin-bottom",c)}}}const DEVICE={ANDROID:/Android/i,BLACK_BERRY:/BlackBerry/i,IOS:/iPhone|iPad|iPod/i,OPERA:/Opera Mini/i,WINDOW:/IEMobile/i,ANY:/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i};let isDevice=a=>{navigator.userAgent.match(a)};class Mobile{constructor(){this._removeActiveMobileMenu(),this._topBarDevice(),this._fixVCAnimation(),this._categoryMenu(),this._mobileMenu(),this._searchMobileShow(),$(window).scroll(()=>{this._topBarDevice(),this._fixVCAnimation()})}_removeActiveMobileMenu(){let a=$(window),b=$("#tbay-mobile-menu,.topbar-device-mobile .active-mobile,#tbay-header.header-v4 .header-main .tbay-mainmenu .btn-offcanvas,#tbay-header.header-v5 .header-main .tbay-mainmenu .btn-offcanvas,.topbar-mobile .btn.btn-offcanvas,.wrapper-container .tbay-offcanvas");a.on("click.Bst,click touchstart tap",function(a){0!=b.has(a.target).length||b.is(a.target)||($(".wrapper-container").removeClass("active"),$("#tbay-mobile-menu").removeClass("active"))})}_topBarDevice(){if(greenmart_settings.mobile){var a=$(window).scrollTop(),b=$(".topbar-device-mobile").height(),c=$(window).scrollTop();$(".topbar-device-mobile").toggleClass("active",a<=b),$("#tbay-mobile-menu, #tbay-mobile-menu-navbar").toggleClass("offsetop",0==c);var d=$("#wpadminbar");0<d.length&&$("body").toggleClass("active-admin-bar",0==c)}}_fixVCAnimation(){if(0<$(".wpb_animate_when_almost_visible").length&&!$(".wpb_animate_when_almost_visible").hasClass("wpb_start_animation")){let b=$(window).height(),c=$(".wpb_animate_when_almost_visible:not(.wpb_start_animation)");var a=c.offset().top-$(window).scrollTop();isDevice(DEVICE.ANY)?c.removeClass("wpb_animate_when_almost_visible"):a<b-50&&c.addClass("wpb_start_animation animated")}}_categoryMenu(){$(".category-inside .category-inside-title").on("click",function(){$(this).parents(".category-inside").find(".category-inside-content").slideToggle("fast"),$(this).parents(".category-inside").toggleClass("open")})}_mobileMenu(){$("[data-toggle=\"offcanvas\"], .btn-offcanvas").on("click",function(){$("#wrapper-container").toggleClass("active"),$("#tbay-mobile-menu").toggleClass("active")}),$("#main-mobile-menu .caret").on("click",function(a){$("#main-mobile-menu .dropdown").removeClass("open"),$(a.target).parent().addClass("open")})}_searchMobileShow(){$(document).off("click",".topbar-device-mobile .search-device .show-search").on("click",".topbar-device-mobile .search-device .show-search",function(a){a.preventDefault(),$(".topbar-device-mobile .search-device .tbay-search-form").slideToggle(500,function(){})}),$(document).off("click",".topbar-mobile-right .search-device .show-search").on("click",".topbar-mobile-right .search-device .show-search",function(a){a.preventDefault(),$(".topbar-mobile-right .search-device .tbay-search-form").slideToggle(500,function(){})})}}class AccountMenu{constructor(){this._slideToggleAccountMenu(".tbay-login"),this._slideToggleAccountMenu(".topbar-mobile"),this._clickNotMyAccountMenu(),this._accountButton()}_clickNotMyAccountMenu(){var a=$(window),b=$(".tbay-login .dropdown .account-menu,.topbar-mobile .dropdown .account-menu,.tbay-login .dropdown .account-button,.topbar-mobile .dropdown .account-button");a.on("click.Bst",function(a){0!=b.has(a.target).length||b.is(a.target)||($(".tbay-login .dropdown .account-menu").slideUp(500),$(".topbar-mobile .dropdown .account-menu").slideUp(500))})}_slideToggleAccountMenu(a){$(a).find(".dropdown .account-button").on("click",function(){$(a).find(".dropdown .account-menu").slideToggle(500)})}_accountButton(){$(".tbay-login .dropdown .account-button").on("click",function(){$(".tbay-login .dropdown .account-menu").slideToggle(500,function(){})}),$(".topbar-mobile .dropdown .account-button").on("click",function(){$(".topbar-mobile .dropdown .account-menu").slideToggle(500,function(){})})}}class BackToTop{constructor(){this._init()}_init(){$(window).scroll(function(){var a=400<$(this).scrollTop();$(".tbay-to-top").toggleClass("active",a),$(".tbay-category-fixed").toggleClass("active",a)}),$("#back-to-top").on("click",this._onClickBackToTop)}_onClickBackToTop(){$("html, body").animate({scrollTop:"0px"},800)}}class CanvasMenu{constructor(){this._initCanvasMenu()}_initCanvasMenu(){let a=$(".element-menu-canvas");0===a.length||(a.each(function(){jQuery(this).find(".canvas-menu-btn-wrapper > a").on("click",function(a){$(this).parent().parent().addClass("open"),a.stopPropagation()})}),jQuery(document).on("click",".canvas-overlay-wrapper",function(a){$(this).parent().removeClass("open"),a.stopPropagation()}),jQuery(document).on("click",".toggle-canvas-close",function(a){$(this).parents(".element-menu-canvas").removeClass("open"),a.stopPropagation()}))}}(function(a){a.extend(a.fn,{swapClass:function(a,b){var c=this.filter("."+a);return this.filter("."+b).removeClass(b).addClass(a),c.removeClass(a).addClass(b),this},replaceClass:function(a,b){return this.filter("."+a).removeClass(a).addClass(b).end()},hoverClass:function(b){return b=b||"hover",this.on("hover",function(){a(this).addClass(b)},function(){a(this).removeClass(b)})},heightToggle:function(a,b){a?this.animate({height:"toggle"},a,b):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),b&&b.apply(this,arguments)})},heightHide:function(a,b){a?this.animate({height:"hide"},a,b):(this.hide(),b&&this.each(b))},prepareBranches:function(a){return a.prerendered||this.filter(":last-child:not(ul)").addClass(b.last),this.filter(":has(>ul),:has(>.dropdown-menu)")},applyClasses:function(c,d){this.filter(":has(>ul):not(:has(>a))").find(">span").on("click",function(){d.apply(a(this).next())}).add(a("a",this)).hoverClass(),c.prerendered||(this.filter(":has(>ul:hidden),:has(>.dropdown-menu:hidden)").addClass(b.expandable).replaceClass(b.last,b.lastExpandable),this.not(":has(>ul:hidden),:has(>.dropdown-menu:hidden)").addClass(b.collapsable).replaceClass(b.last,b.lastCollapsable),this.prepend("<div class=\""+b.hitarea+"\"/>").find("div."+b.hitarea).each(function(){var b="";a.each(a(this).parent().attr("class").split(" "),function(){b+=this+"-hitarea "}),a(this).addClass(b)})),this.find("div."+b.hitarea).on("click",d)},treeview:function(c){function d(){a(this).parent().find(">.hitarea").swapClass(b.collapsableHitarea,b.expandableHitarea).swapClass(b.lastCollapsableHitarea,b.lastExpandableHitarea).end().swapClass(b.collapsable,b.expandable).swapClass(b.lastCollapsable,b.lastExpandable).find(">ul,>.dropdown-menu").heightToggle(c.animated,c.toggle),c.unique&&a(this).parent().siblings().find(">.hitarea").replaceClass(b.collapsableHitarea,b.expandableHitarea).replaceClass(b.lastCollapsableHitarea,b.lastExpandableHitarea).end().replaceClass(b.collapsable,b.expandable).replaceClass(b.lastCollapsable,b.lastExpandable).find(">ul,>.dropdown-menu").heightHide(c.animated,c.toggle)}function e(){var b=[];h.each(function(c,d){b[c]=a(d).is(":has(>ul:visible)")?1:0}),a.cookie(c.cookieId,b.join(""))}function f(){var b=a.cookie(c.cookieId);if(b){var d=b.split("");h.each(function(b,c){a(c).find(">ul")[parseInt(d[b])?"show":"hide"]()})}}if(c=a.extend({cookieId:"treeview"},c),c.add)return this.trigger("add",[c.add]);if(c.toggle){var g=c.toggle;c.toggle=function(){return g.apply(a(this).parent()[0],arguments)}}this.addClass("treeview");var h=this.find("li").prepareBranches(c);switch(c.persist){case"cookie":var i=c.toggle;c.toggle=function(){e(),i&&i.apply(this,arguments)},f();break;case"location":var j=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});j.length&&j.addClass("selected").parents("ul, li").add(j.next()).show();}return h.applyClasses(c,d),c.control&&(function f(c,e){function g(e){return function(){return d.apply(a("div."+b.hitarea,c).filter(function(){return!e||a(this).parent("."+e).length})),!1}}a("a:eq(0)",e).on("click",g(b.collapsable)),a("a:eq(1)",e).on("click",g(b.expandable)),a("a:eq(2)",e).on("click",g())}(this,c.control),a(c.control).show()),this.bind("add",function(e,f){a(f).prev().removeClass(b.last).removeClass(b.lastCollapsable).removeClass(b.lastExpandable).find(">.hitarea").removeClass(b.lastCollapsableHitarea).removeClass(b.lastExpandableHitarea),a(f).find("li").andSelf().prepareBranches(c).applyClasses(c,d)})}});var b=a.fn.treeview.classes={open:"open1",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};a.fn.Treeview=a.fn.treeview})(jQuery);class FuncCommon{constructor(){var a=this;a._fancyboxVideo(),a._progressAnimation(),a._createWrapStart(),$(".mod-heading .widget-title > span").wrapStart(),a._greenmartResizeMegamenu(),$(window).on("resize",()=>{a._greenmartResizeMegamenu(),a._fixFull()}),setTimeout(function(){jQuery(document.body).on("tbay_load_html_click",()=>{a._greenmartResizeMegamenu()})},2e3),a._fixFull(),a._intTooltip(),a._categoryV6Inside(),a._fixSliderHome3(),a._toCategoryFixed(),a._homeBanner(),a._toggleDropdown(),greenmart_settings.skin_elementor_fresh&&a._initHeaderCoverbgFresh()}_fancyboxVideo(){$(".fancybox-video").fancybox({maxWidth:800,maxHeight:600,fitToView:!1,width:"70%",height:"70%",autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"}),$(".fancybox").fancybox()}_createWrapStart(){$.fn.wrapStart=function(){return this.each(function(){var a=$(this),b=a.contents().filter(function(){return 3==this.nodeType}).first(),c=b.text().trim(),d=c.split(" ",1).join(" ");b.length&&(b[0].nodeValue=c.slice(d.length),b.before("<b>"+d+"</b>"))})}}_initHeaderCoverbgFresh(){let a=$(".tbay-horizontal .navbar-nav > li,.tbay-horizontal-default .navbar-nav > li, .tbay_header-template .product-recently-viewed-header"),b=$(".tbay-search-form .tbay-search"),c=$(".category-inside .category-inside-title"),d=$(".cart-popup");a.mouseenter(function(){0===$(this).parents("#tbay-header").length||0==$(this).children(".dropdown-menu, ul, .content-view").length||$(".tbay_header-template").addClass("nav-cover-active-1")}).mouseleave(function(){$(this).closest(".dropdown-menu").length||$(".tbay_header-template").removeClass("nav-cover-active-1")}),b.focusin(function(){$(this).closest(".dropdown-menu").length||0<b.parents(".sidebar-canvas-search").length||0===$(this).closest(".tbay_header-template").length||$(".tbay_header-template").addClass("nav-cover-active-2")}).focusout(function(){$(".tbay_header-template").removeClass("nav-cover-active-2")}),d.on("shown.bs.dropdown",function(a){$(a.target).closest(".tbay_header-template").addClass("nav-cover-active-3")}).on("hidden.bs.dropdown",function(a){$(a.target).closest(".tbay_header-template").removeClass("nav-cover-active-3")}),c.parents(".tbay_header-template")&&($(document.body).on("tbay_category_inside_open",()=>{$(".tbay_header-template").addClass("nav-cover-active-4")}),$(document.body).on("tbay_category_inside_close",()=>{$(".tbay_header-template").removeClass("nav-cover-active-4")}))}_progressAnimation(){$("[data-progress-animation]").each(function(){var a=$(this);a.appear(function(){var b=a.attr("data-appear-animation-delay")?a.attr("data-appear-animation-delay"):1;1<b&&a.css("animation-delay",b+"ms"),setTimeout(function(){a.animate({width:a.attr("data-progress-animation")},800)},b)},{accX:0,accY:-50})})}_greenmartResizeMegamenu(){var a=$("body").innerWidth();if(!(767<a))0<$(".tbay_custom_menu").length&&$(".tbay_custom_menu").hasClass("tbay-vertical-menu")&&$(".tbay-vertical-menu").each(function(){$(this).hasClass("treeview")||$(this).treeview({animated:300,collapsed:!0,unique:!0,persist:"location"})});else if(0<$(".tbay_custom_menu").length&&$(".tbay_custom_menu").hasClass("tbay-vertical-menu")){var b=parseInt($("#main-container.container").innerWidth()),c=parseInt($(".tbay-vertical-menu").innerWidth()),d=b-c;$(".tbay-vertical-menu").find(".active-mega-menu").each(function(){$(this).children(".dropdown-menu").css("max-width",d+"px"),$(this).children(".dropdown-menu").css("width",b-30+"px")})}}_fixFull(){var a=$("#tbay-main-content").width(),b=($("#tbay-main-content").width()-$("#tbay-main-content >.container").width())/2;$(".tb-full").css("width",a),$(".tb-full").css("max-width",a),$("body").hasClass("rtl")?$(".tb-full").css("margin-right",-b):$(".tb-full").css("margin-left",-b),$(".tb-full >.vc_fluid").css("padding",0)}_categoryV6Inside(){$(".category-v6 .category-inside-title").off().on("click",function(){$(this).parents(".category-v6").find(".menu-category-menu-container").slideToggle("fast"),$(this).parents(".category-v6").toggleClass("open")})}_removeAnimateVisible(){let a=jQuery(window).width();1024>a&&jQuery(".wpb_animate_when_almost_visible:not(.wpb_start_animation)").each(function(){jQuery(this).removeClass("wpb_animate_when_almost_visible")})}_fixSliderHome3(){let a=jQuery(window).width(),b=$(".container").width(),c=$(".container-full").width();var d=(a-b)/2-(a-c)/2-30;if(1520<a){let a=-d;$(".rev_slider .fix-laptop").css("margin-left",a)}else $(".rev_slider .fix-laptop").removeAttr("style")}_intTooltip(){"undefined"==typeof jQuery.fn.tooltip||jQuery("[data-toggle=\"tooltip\"]").tooltip()}_toCategoryFixed(){let a=$(window).width(),b=$(".container").width();var c=(a-b)/2;if(80<=c){var d=c-80;110>c?jQuery("body").hasClass("rtl")?($(".tbay-to-top").css({left:d,right:"auto"}),$(".tbay-category-fixed").css({right:d,left:"auto"})):($(".tbay-to-top").css({right:d,left:"auto"}),$(".tbay-category-fixed").css({left:d,right:"auto"})):($(".tbay-to-top").removeAttr("style"),$(".tbay-category-fixed").removeAttr("style")),$(".tbay-category-fixed").css("display","block"),$(".tbay-to-top").css("display","block")}else $(".tbay-category-fixed").css("display","none"),$(".tbay-to-top").css("display","none")}_intLoader(){$("#loader").delay(100).fadeOut(400,function(){$("body").removeClass("tbay-body-loading"),$(this).remove()})}_homeBanner(){0<$(".tbay-home-banner").length&&$(".tbay-home-banner").parents(".vc_row-fluid").addClass("position-img")}_toggleDropdown(){$(document.body).on("click",".nav [data-toggle=\"dropdown\"]",function(){this.href&&"#"!=this.href&&(window.location.href=this.href)}),$(document.body).on("click",".treeview [data-toggle=\"dropdown\"]",function(){this.href&&"#"!=this.href&&(window.location.href=this.href)})}}class TreeView{constructor(){this._treeViewMenu(),this._mobileTreeView(),this._categoryTreeView(),this._tbayTreeViewMenu()}_treeViewMenu(){$(".treeview-menu .menu").each(function(){$(this).hasClass("treeview")||$(this).treeview({animated:300,collapsed:!0,unique:!0,persist:"location"})})}_mobileTreeView(){$(".navbar-offcanvas #main-mobile-menu .treeview .hitarea").remove(),$(".navbar-offcanvas #main-mobile-menu .treeview .sub-menu").css("display","none"),$(".navbar-offcanvas #main-mobile-menu .treeview").removeClass("treeview"),$(".navbar-offcanvas #main-mobile-menu").each(function(){$(this).treeview({animated:300,collapsed:!0,unique:!0,persist:"location"})})}_categoryTreeView(){$(".category-inside-content #category-menu").addClass("treeview"),$(".category-inside-content #category-menu").treeview({animated:300,collapsed:!0,unique:!0,persist:"location"})}_tbayTreeViewMenu(){"undefined"==typeof $.fn.treeview||"undefined"==typeof $(".tbay-treeview")||$(".tbay-treeview").each(function(){$(this).hasClass("treeview")||$(this).find("> ul").treeview({animated:400,collapsed:!0,unique:!0,persist:"location"})})}}class NewsLetter{constructor(){this._init()}_init(){"undefined"==typeof jQuery.fn.modal||($("#popupNewsletterModal").on("hidden.bs.modal",function(){Cookies.set("hiddenmodal",1,{expires:.1,path:"/"})}),setTimeout(function(){("undefined"==typeof Cookies.get("hiddenmodal")||""==Cookies.get("hiddenmodal"))&&$("#popupNewsletterModal").modal("show")},3e3))}}class Search{constructor(){this._init()}_init(){this._greenmartSearchMobile(),this._buttonClickSearch(),this._searchToTop(),this._searchHeaderv2(),this._searchPopup(),$(".button-show-search").on("click",()=>$(".tbay-search-form").addClass("active")),$(".button-hidden-search").on("click",()=>$(".tbay-search-form").removeClass("active"))}_greenmartSearchMobile(){$(".search-device").each(function(){$(this).find(".show-search").on("click",a=>{a.preventDefault();var b=$(a.currentTarget);b.parent().toggleClass("open"),b.parent().find(".tbay-search").focus(),$(document.body).trigger("search_device_mobile")})}),$(".search-mobile-close").each(function(a){$(this).off().on("click",function(){$(this).prev().removeClass("open"),$(this).parent().slideUp(500,function(){}),$(this).parents(".search-device").removeClass("open")})}),$(".topbar-mobile .dropdown-menu").on("click",function(a){a.stopPropagation()})}_searchToTop(){$(".search-totop-wrapper .btn-search-totop").on("click",function(){$(".search-totop-content").toggleClass("active"),$(this).toggleClass("active")});var a=$(".search-totop-wrapper .btn-search-totop, .search-totop-content");$(window).on("click.Bst",function(b){0!=a.has(b.target).length||a.is(b.target)||($(".search-totop-wrapper .btn-search-totop").removeClass("active"),$(".search-totop-content").removeClass("active"))})}_buttonClickSearch(){$(".button-show-search").on("click",function(){return $(".tbay-search-form").addClass("active"),!1}),$(".button-hidden-search").on("click",function(){return $(".tbay-search-form").removeClass("active"),!1})}_searchHeaderv2(){$("#tbay-header.header-v2 .header-search-v2 .btn-search-totop").on("click",function(){$("#tbay-header.header-v2 .header-search-v2 .tbay-search-form").slideToggle(500,function(){}),$(this).toggleClass("active")})}_searchPopup(){$(".toogle-btn-search").on("click",function(){$(".tbay-element-search-popup .tbay-search-form").slideToggle(500,function(){}),$(this).toggleClass("active")})}}class Preload{constructor(){this._init()}_init(){if($.fn.jpreLoader){var a=$(".js-preloader");a.jpreLoader({},function(){a.addClass("preloader-done"),$("body").trigger("preloader-done"),$(window).trigger("resize")})}$(".tbay-page-loader").delay(100).fadeOut(400,function(){$("body").removeClass("tbay-body-loading"),$(this).remove()}),$(document.body).hasClass("tbay-body-loader")&&setTimeout(function(){$(document.body).removeClass("tbay-body-loader"),$(".tbay-page-loader").fadeOut(250)},300)}}class Section{constructor(){this._tbayMegaMenu(),this._tbayRecentlyView()}_tbayMegaMenu(){let a=$(".elementor-widget-tbay-nav-menu");0===a.length||a.find(".tbay-element-nav-menu").each(function(){"horizontal"!==$(this).data("wrapper").layout||(!$(this).closest(".elementor-top-column").hasClass("tbay-column-static")&&$(this).closest(".elementor-top-column").addClass("tbay-column-static"),!$(this).closest("section").hasClass("tbay-section-static")&&$(this).closest("section").addClass("tbay-section-static"))})}_tbayRecentlyView(){let a=$(".tbay-element-product-recently-viewed");0===a.length||a.each(function(){"header"!==$(this).data("wrapper").layout||(!$(this).closest(".elementor-top-column").hasClass("tbay-column-static")&&$(this).closest(".elementor-top-column").addClass("tbay-column-static"),!$(this).closest(".elementor-top-column").hasClass("tbay-column-recentlyviewed")&&$(this).closest(".elementor-top-column").addClass("tbay-column-recentlyviewed"),!$(this).closest("section").hasClass("tbay-section-recentlyviewed")&&$(this).closest("section").addClass("tbay-section-recentlyviewed"),!$(this).closest("section").hasClass("tbay-section-static")&&$(this).closest("section").addClass("tbay-section-static"))})}}class Tabs{constructor(){$("ul.nav-tabs li a").on("shown.bs.tab",a=>{$(document.body).trigger("greenmart_tabs_carousel")})}}class Accordion{constructor(){this._init()}_init(){0===$(".single-product").length||$("#accordion").on("shown.bs.collapse",function(a){if("undefined"!=typeof greenmart_settings&&greenmart_settings.skin_elementor)var b=$(this).find(".collapse.show").prev(".tabs-title");else var b=$(this).find(".collapse.in").prev(".tabs-title");b&&$("html,body").animate({scrollTop:$(b).offset().top-150},500)})}}class MenuDropdownsAJAX{constructor(){"undefined"==typeof greenmart_settings||this._initmenuDropdownsAJAX()}_initmenuDropdownsAJAX(){var a=this;$("body").on("mousemove",function(){$(".menu").has(".dropdown-load-ajax").each(function(){var b=$(this);b.hasClass("dropdowns-loading")||b.hasClass("dropdowns-loaded")||!a.isNear(b,50,event)||a.loadDropdowns(b)})})}loadDropdowns(a){var b=this;a.addClass("dropdowns-loading");var c="",d="",e="",f="";"tbay-mobile-menu-navbar"===a.closest("nav").attr("id")?(0<$("#main-mobile-menu-mmenu-wrapper").length&&(e+="_"+$("#main-mobile-menu-mmenu-wrapper").data("id")),0<$("#main-mobile-second-mmenu-wrapper").length&&(e+="_"+$("#main-mobile-second-mmenu-wrapper").data("id")),c=greenmart_settings.storage_key+"_megamenu_mobile"+e,f="no-builder"):(c=greenmart_settings.storage_key+"_megamenu_"+a.closest("nav").find("ul").data("id"),f="undefined"==typeof a.closest("nav").find("ul").data("format")?"":a.closest("nav").find("ul").data("format")),d=localStorage.getItem(c);var g=!1,h=a.find(".dropdown-load-ajax"),i=[];h.each(function(){i.push($(this).find(".dropdown-html-placeholder").data("id"))});try{g=JSON.parse(d)}catch(a){console.log("cant parse Json",a)}g?(b.renderResults(g,a,f),"tbay-mobile-menu-navbar"!==a.attr("id")&&a.removeClass("dropdowns-loading").addClass("dropdowns-loaded")):$.ajax({url:greenmart_settings.ajaxurl,data:{action:"greenmart_load_html_dropdowns",ids:i,format:f},dataType:"json",method:"POST",success:function(d){"success"===d.status?(b.renderResults(d.data,a,f),localStorage.setItem(c,JSON.stringify(d.data))):console.log("loading html dropdowns returns wrong data - ",d.message)},error:function(){console.log("loading html dropdowns ajax error")}})}renderResults(a,b,c){var d=this;Object.keys(a).forEach(function(e){d.removeDuplicatedStylesFromHTML(a[e],function(a){let d=a;if("no-builder"!==c){const b="<li[^>]*><a[^>]*href=[\"]"+window.location.href+"[\"]>.*?</a></li>";let c=a.match(b);if(null!==c){let a=c[0],b=a.match(/(?:class)=(?:["']\W+\s*(?:\w+)\()?["']([^'"]+)['"]/g)[0].split("\"")[1],e=b+" active",f=a.replace(b,e);d=d.replace(a,f)}}b.find("[data-id=\""+e+"\"]").replaceWith(d),"tbay-mobile-menu-navbar"!==b.attr("id")&&(b.addClass("dropdowns-loaded"),setTimeout(function(){b.removeClass("dropdowns-loading")},1e3))})})}isNear(a,b,c){var d=a.offset().left-b,e=a.offset().top-b,f=d+a.width()+2*b,g=e+a.height()+2*b,h=c.pageX,i=c.pageY;return h>d&&h<f&&i>e&&i<g}removeDuplicatedStylesFromHTML(a,b){if(greenmart_settings.combined_css)return void b(a);else{const c=/<style>.*?<\/style>/mg;let d=a.replace(c,"");return void b(d)}}}class MenuClickAJAX{constructor(){"undefined"==typeof greenmart_settings||this._initmenuClickAJAX()}_initmenuClickAJAX(){$(".element-menu-ajax.ajax-active").each(function(){var a=$(this);a.find(".menu-click").off("click").on("click",function(a){a.preventDefault();var b=$(this);if(b.closest(".element-menu-ajax").hasClass("ajax-active")){var c=b.closest(".tbay-element"),d=c.data("wrapper").type_menu,e=c.data("wrapper").layout,f=c.data("wrapper").header_type;if("toggle"===d)var g=c.find(".category-inside-content > nav");else var g=c.find(".menu-canvas-content > nav");var h=g.data("id"),i=greenmart_settings.storage_key+"_"+h+"_"+e,j=!1,k=localStorage.getItem(i);try{j=JSON.parse(k)}catch(a){console.log("cant parse Json",a)}j?(g.html(j),c.removeClass("load-ajax"),b.closest(".element-menu-ajax").removeClass("ajax-active"),"treeview"===e?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):$.ajax({url:greenmart_settings.ajaxurl,data:{action:"greenmart_load_html_click",slug:h,type_menu:d,layout:e,header_type:f},dataType:"json",method:"POST",beforeSend:function(a){c.addClass("load-ajax")},success:function(a){"success"===a.status?(g.html(a.data),localStorage.setItem(i,JSON.stringify(a.data)),"treeview"===e?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):console.log("loading html dropdowns returns wrong data - ",a.message),c.removeClass("load-ajax"),b.closest(".element-menu-ajax").removeClass("ajax-active")},error:function(){console.log("loading html dropdowns ajax error")}})}})})}}class MenuCanvasDefaultClickAJAX{constructor(){"undefined"==typeof greenmart_settings||this._initmenuCanvasDefaultClickAJAX()}_initmenuCanvasDefaultClickAJAX(){$(".menu-canvas-click").off("click").on("click",function(a){a.preventDefault();var b=$(this);if(b.hasClass("ajax-active")){var c=$("#"+b.data("id")),d=c.data("wrapper").layout,e=c.data("wrapper").menu_id,f=c.find(".tbay-offcanvas-body > nav"),g=f.data("id"),h=greenmart_settings.storage_key+"_"+g+"_"+d,i=!1,j=localStorage.getItem(h);try{i=JSON.parse(j)}catch(a){console.log("cant parse Json",a)}i?(f.html(i),c.removeClass("load-ajax"),b.removeClass("ajax-active"),"treeview"===d?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):$.ajax({url:greenmart_settings.ajaxurl,data:{action:"greenmart_load_html_canvas_click",slug:g,layout:d,menu_id:e},dataType:"json",method:"POST",beforeSend:function(a){c.addClass("load-ajax")},success:function(a){"success"===a.status?(f.html(a.data),localStorage.setItem(h,JSON.stringify(a.data)),"treeview"===d?$(document.body).trigger("tbay_load_html_click_treeview"):$(document.body).trigger("tbay_load_html_click")):console.log("loading html dropdowns returns wrong data - ",a.message),c.removeClass("load-ajax"),b.removeClass("ajax-active")},error:function(){console.log("loading html dropdowns ajax error")}})}})}}class CountDownTimer{constructor(){"undefined"==typeof jQuery.fn.tbayCountDown||"undefined"==typeof greenmart_settings||($("[data-time=\"timmer\"]").each(function(a,b){var c=$(this),d=c.data("date").split("-"),e=c.data("days"),f=c.data("hours"),g=c.data("mins"),h=c.data("secs");c.tbayCountDown({TargetDate:d[0]+"/"+d[1]+"/"+d[2]+" "+d[3]+":"+d[4]+":"+d[5],DisplayFormat:"<div class=\"times\"><div class=\"day\">%%D%% "+e+" </div><div class=\"hours\">%%H%% "+f+" </div><div class=\"minutes\">%%M%% "+g+" </div><div class=\"seconds\">%%S%% "+h+" </div></div>",FinishMessage:""})}),$("[data-countdown=\"countdown\"]").each(function(a,b){var c=$(this),d=c.data("date").split("-");c.tbayCountDown({TargetDate:d[0]+"/"+d[1]+"/"+d[2]+" "+d[3]+":"+d[4]+":"+d[5],regexpMatchFormat:"([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})",regexpReplaceWith:"<div class=\"countdown-wrapper\"><div class=\"day\"><span>$1</span> DAYS </div><div class=\"hours\"><span>$2</span> HRS </div><div class=\"minutes\"><span>$3</span> MINS </div><div class=\"seconds\"><span>$4</span> SECS </div></div>"})}))}}class CounterUp{constructor(){"undefined"==typeof jQuery.fn.counterUp||"undefined"==typeof greenmart_settings||this._initCounterUp()}_initCounterUp(){0<$(".counterUp").length&&$(".counterUp").counterUp({delay:10,time:800})}}class MMenu{constructor(){"undefined"==typeof jQuery.fn.mmenu||"undefined"==typeof greenmart_settings||this._initMmenu()}_initMmenu(){$("body").hasClass("admin-bar")&&$("html").addClass("html-mmenu");var a="mmenu";$.mmenu.i18n({cancel:greenmart_settings.cancel});var b=$("#tbay-mobile-smartmenu"),c=b.data("themes"),d=!!b.data("enablesearch"),e="",f="",g="";d&&(e=b.data("textsearch"),f=b.data("searchnoresults"),g=b.data("searchsplash"));var h=b.data("title"),i=!!b.data("counters"),j=!!b.data("enabletabs"),k="",l="",m="",n="";j&&(k=b.data("tabone"),l=b.data("taboneicon"),m=b.data("tabsecond"),n=b.data("tabsecondicon"));var o=!!b.data("enablesocial"),p="",q=!!b.data("enableeffects"),r="",s="";q&&(r=b.data("effectspanels"),s=b.data("effectslistitems"));var t={offCanvas:!0,navbar:{title:h},counters:i,extensions:[c,r,s]},u={navbars:[],searchfield:{}};if(d&&(u.navbars.push({position:["top"],content:["searchfield"]}),u.searchfield={placeholder:e,noResults:f,panel:{add:!0,splash:g,title:greenmart_settings.search},showTextItems:!0,clear:!0}),j&&u.navbars.push({type:"tabs",content:["<a href=\"#main-mobile-menu-mmenu\"><i class=\""+l+"\"></i> <span>"+k+"</span></a>","<a href=\"#mobile-menu-second-mmenu\"><i class=\""+n+"\"></i> <span>"+m+"</span></a>"]}),o){p=JSON.parse(b.data("socialjsons").replace(/'/g,"\""));var v=$.map(p,function(a,b){return`<a class="mmenu-icon" href="${a.url}" target="_blank"><i class="${a.icon}"></i></a>`});u.navbars.push({position:"bottom",content:v})}t=Object.assign(u,t),$("#tbay-mobile-menu-navbar").mmenu(t,{offCanvas:{pageSelector:"#wrapper-container"},searchfield:{clear:!0}})}}class SumoSelect{constructor(){"undefined"==typeof jQuery.fn.SumoSelect||"undefined"==typeof greenmart_settings||this._initSumoSelect()}_initSumoSelect(){jQuery(".dropdown_product_cat").SumoSelect({csvDispCount:3,captionFormatAllSelected:"Yeah, OK, so everything."}),jQuery(".woocommerce-currency-switcher,.woocommerce-fillter >.select, .woocommerce-ordering > .orderby").SumoSelect({csvDispCount:3,captionFormatAllSelected:"Yeah, OK, so everything."})}}window.$=window.jQuery,jQuery(document).ready(()=>{new MenuDropdownsAJAX,new MenuClickAJAX,new MenuCanvasDefaultClickAJAX,new StickyHeader,new Tabs,new Accordion,new Mobile,new AccountMenu,new BackToTop,new CanvasMenu,new FuncCommon,new TreeView,new NewsLetter,new Preload,new Search,new CountDownTimer,new CounterUp,new Section,new SumoSelect}),jQuery(window).on("load",function(){new MMenu}),setTimeout(function(){jQuery(document.body).on("tbay_load_html_click_treeview",()=>{new TreeView})},2e3),jQuery(window).on("load",function(){var a=new FuncCommon;a._removeAnimateVisible()}),jQuery(window).resize(()=>{var a=new FuncCommon;a._fixSliderHome3(),a._toCategoryFixed(),a._intLoader()});var CountDownTimerHandler=function(a,b){new CountDownTimer};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof greenmart_settings&&greenmart_settings.skin_elementor&&Array.isArray(greenmart_settings.elements_ready.countdowntimer)&&$.each(greenmart_settings.elements_ready.countdowntimer,function(a,b){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+b+".default",CountDownTimerHandler)})});
